{% extends "pages/dsa-algorithm/base_dsa_algorithm.html" %}

{% block page_content %}
<div class="content-section">
    <div class="section-card">
        <h2 class="section-title">üìã Procedure</h2>
        
        <div class="procedure-content">
            <h3>Step-by-Step Implementation Guide</h3>
            
            <div class="procedure-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Setup and Preparation</h4>
                    <ul>
                        <li>Open the DSA Algorithm simulation page</li>
                        <li>Ensure all required JavaScript files are loaded</li>
                        <li>Check that the simulation interface is functioning properly</li>
                        <li>Review the mathematical concepts in the theory section</li>
                    </ul>
                </div>
            </div>
            
            <div class="procedure-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Message Input</h4>
                    <ul>
                        <li>Enter a message in the "Message to Sign" field</li>
                        <li>Choose an appropriate message length (recommended: 5-50 characters)</li>
                        <li>Adjust the animation speed using the slider if desired</li>
                        <li>Note: The message can be any text string</li>
                    </ul>
                </div>
            </div>
            
            <div class="procedure-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>DSA Key Generation</h4>
                    <ul>
                        <li>Click the "Generate Keys" button</li>
                        <li>Observe the generation of prime q (160-bit equivalent)</li>
                        <li>Watch the calculation of prime p where q divides (p-1)</li>
                        <li>Note the generator g computation</li>
                        <li>Observe private key x selection (random)</li>
                        <li>Watch public key y calculation (y = g^x mod p)</li>
                    </ul>
                </div>
            </div>
            
            <div class="procedure-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>Digital Signature Creation</h4>
                    <ul>
                        <li>Click the "Sign Message" button</li>
                        <li>Observe the message hashing process</li>
                        <li>Watch the random k generation</li>
                        <li>Note the calculation of r = (g^k mod p) mod q</li>
                        <li>Observe the computation of s = k^(-1) * (h + x*r) mod q</li>
                        <li>Review the final signature pair (r, s)</li>
                    </ul>
                </div>
            </div>
            
            <div class="procedure-step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h4>Signature Verification</h4>
                    <ul>
                        <li>Click the "Verify Signature" button</li>
                        <li>Watch the calculation of w = s^(-1) mod q</li>
                        <li>Observe u1 = h * w mod q computation</li>
                        <li>Note u2 = r * w mod q calculation</li>
                        <li>Watch v = ((g^u1 * y^u2) mod p) mod q computation</li>
                        <li>Observe the final verification: v == r</li>
                    </ul>
                </div>
            </div>
            
            <div class="procedure-step">
                <div class="step-number">6</div>
                <div class="step-content">
                    <h4>Analysis and Observation</h4>
                    <ul>
                        <li>Review all generated parameters in the DSA Parameters section</li>
                        <li>Analyze the algorithm flow visualization</li>
                        <li>Check the verification result (success/failure)</li>
                        <li>Note the mathematical relationships between values</li>
                        <li>Understand the security properties demonstrated</li>
                    </ul>
                </div>
            </div>
            
            <div class="procedure-step">
                <div class="step-number">7</div>
                <div class="step-content">
                    <h4>Experimentation</h4>
                    <ul>
                        <li>Try different messages and observe signature changes</li>
                        <li>Use the "Auto Run" feature for complete demonstration</li>
                        <li>Experiment with the animation speed settings</li>
                        <li>Reset and repeat with different inputs</li>
                        <li>Compare signatures for identical messages</li>
                    </ul>
                </div>
            </div>
            
            <h3>Important Notes</h3>
            <div class="notes-section">
                <div class="note-item">
                    <h4>‚ö†Ô∏è Security Considerations</h4>
                    <p>This simulation uses smaller numbers for educational purposes. In production, much larger primes (1024-3072 bits) are required for security.</p>
                </div>
                
                <div class="note-item">
                    <h4>üîÑ Randomization</h4>
                    <p>The random number k is crucial for signature security. In this simulation, new random values are generated for each signature.</p>
                </div>
                
                <div class="note-item">
                    <h4>üìä Parameter Relationships</h4>
                    <p>Observe how the parameters p, q, g, x, y are mathematically related and how they ensure the security of the algorithm.</p>
                </div>
                
                <div class="note-item">
                    <h4>üîç Verification Process</h4>
                    <p>The verification process reconstructs the signature component r through different mathematical operations, demonstrating the elegance of the algorithm.</p>
                </div>
            </div>
            
            <h3>Troubleshooting</h3>
            <div class="troubleshooting-section">
                <div class="trouble-item">
                    <h4>‚ùå Buttons Not Responding</h4>
                    <p>Ensure JavaScript is enabled in your browser and all files are loaded properly. Try refreshing the page.</p>
                </div>
                
                <div class="trouble-item">
                    <h4>‚ùå Animation Too Fast/Slow</h4>
                    <p>Use the animation speed slider to adjust the timing. Higher values make animations faster.</p>
                </div>
                
                <div class="trouble-item">
                    <h4>‚ùå Values Not Updating</h4>
                    <p>Check that you've entered a message and followed the steps in order. Use the Reset button to start over.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.procedure-content {
    line-height: 1.6;
    color: #e5e7eb;
}

.procedure-content h3 {
    color: #3b82f6;
    margin-top: 2rem;
    margin-bottom: 1rem;
}

.procedure-step {
    display: flex;
    align-items: flex-start;
    gap: 1.5rem;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(55, 65, 81, 0.3);
    border-radius: 12px;
    border: 1px solid rgba(75, 85, 99, 0.3);
}

.step-number {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.step-content h4 {
    color: #f3f4f6;
    margin-bottom: 0.5rem;
}

.step-content ul {
    margin: 0;
    padding-left: 1.5rem;
}

.step-content li {
    margin-bottom: 0.5rem;
    color: #d1d5db;
}

.notes-section, .troubleshooting-section {
    margin-top: 2rem;
}

.note-item, .trouble-item {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: rgba(55, 65, 81, 0.3);
    border-radius: 8px;
    border-left: 4px solid #10b981;
}

.trouble-item {
    border-left-color: #f59e0b;
}

.note-item h4, .trouble-item h4 {
    color: #10b981;
    margin-bottom: 0.5rem;
}

.trouble-item h4 {
    color: #f59e0b;
}

.note-item p, .trouble-item p {
    margin: 0;
    color: #d1d5db;
}

@media (max-width: 768px) {
    .procedure-step {
        flex-direction: column;
        gap: 1rem;
    }
    
    .step-number {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
    }
}
</style>
{% endblock %}
